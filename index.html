<!doctype html>
<html lang="ko">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>English Speaking Practice</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      width: 100%;
      height: 100%;
      overflow: auto;
    }
    
    html {
      height: 100%;
    }
    
    .app-container {
      width: 100%;
      min-height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 2rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      overflow-y: auto;
    }
    
    .header {
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .header h1 {
      font-size: 2.5rem;
      color: #ffffff;
      margin: 0 0 0.5rem 0;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }
    
    .header p {
      font-size: 1.1rem;
      color: #f0f0f0;
      margin: 0;
    }
    
    .flashcard-wrapper {
      perspective: 1000px;
      width: 100%;
      max-width: 700px;
    }
    
    .flashcard {
      background: #ffffff;
      border-radius: 20px;
      padding: 3rem;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
      min-height: 300px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      transition: transform 0.3s ease;
    }
    
    .flashcard:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 50px rgba(0,0,0,0.4);
    }
    
    .question-number {
      font-size: 1rem;
      color: #667eea;
      font-weight: 600;
      margin-bottom: 1.5rem;
    }
    
    .question-text {
      font-size: 1.8rem;
      color: #2d3748;
      line-height: 1.6;
      margin-bottom: 1.5rem;
      font-weight: 500;
    }
    
    .follow-up-question {
      font-size: 1.5rem;
      color: #4a5568;
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 2px solid #e2e8f0;
      font-weight: 500;
    }
    
    .question-note {
      font-size: 1.2rem;
      color: #718096;
      margin-top: 1rem;
      font-style: italic;
    }
    
    .image-placeholder {
      width: 100%;
      max-width: 400px;
      height: 250px;
      background: linear-gradient(135deg, #e0e7ff 0%, #f3e8ff 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 1.5rem 0;
      border: 3px dashed #a5b4fc;
    }
    
    .image-placeholder-text {
      font-size: 1.1rem;
      color: #6b7280;
      font-weight: 500;
    }
    
    .answer-section {
      width: 100%;
      margin-top: 2rem;
      padding-top: 2rem;
      border-top: 2px solid #e2e8f0;
    }
    
    .answer-option {
      background: #f7fafc;
      padding: 1rem 1.5rem;
      margin: 0.8rem 0;
      border-radius: 10px;
      border-left: 4px solid #667eea;
      text-align: left;
    }
    
    .answer-option strong {
      color: #667eea;
      margin-right: 0.5rem;
    }
    
    .answer-option span {
      color: #4a5568;
      font-size: 1.1rem;
    }
    
    .controls {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
    }
    
    .btn {
      padding: 1rem 2.5rem;
      font-size: 1.1rem;
      font-weight: 600;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    
    .btn-primary {
      background: #667eea;
      color: white;
    }
    
    .btn-primary:hover {
      background: #5568d3;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102,126,234,0.4);
    }
    
    .btn-secondary {
      background: #ffffff;
      color: #667eea;
      border: 2px solid #667eea;
    }
    
    .btn-secondary:hover {
      background: #f7fafc;
      transform: translateY(-2px);
    }
    
    .planet-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
      justify-content: center;
      margin-top: 1.5rem;
    }
    
    .planet-item {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 0.6rem 1.2rem;
      border-radius: 20px;
      font-size: 1rem;
      font-weight: 500;
    }
    
    .random-badge {
      display: inline-block;
      background: #f59e0b;
      color: white;
      padding: 0.3rem 0.8rem;
      border-radius: 15px;
      font-size: 0.9rem;
      margin-left: 0.5rem;
      font-weight: 600;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="app-container">
   <div class="header">
    <h1 id="main-title">üé§ ÏòÅÏñ¥ Ïä§ÌîºÌÇπ Ïó∞Ïäµ</h1>
    <p id="subtitle">Í∞Å ÏßàÎ¨∏ÏùÑ Î≥¥Í≥† ÏòÅÏñ¥Î°ú ÎãµÎ≥ÄÏùÑ Ïó∞ÏäµÌïòÏÑ∏Ïöî</p>
   </div>
   <div class="flashcard-wrapper">
    <div class="flashcard" id="flashcard">
     <div class="question-number" id="question-counter">
      ÏßàÎ¨∏ 1 / 10
     </div>
     <div class="question-text" id="question-text"></div>
     <div id="question-content"></div>
    </div>
   </div>
   <div class="controls"><button class="btn btn-secondary" id="prev-btn" onclick="previousCard()">‚Üê Ïù¥Ï†Ñ</button> <button class="btn btn-primary" id="answer-btn" onclick="toggleAnswer()">üí° Ï†ïÎãµ Î≥¥Í∏∞</button> <button class="btn btn-primary" id="next-btn" onclick="nextCard()">Îã§Ïùå ‚Üí</button>
   </div>
   <div class="flashcard-wrapper" id="answer-card-wrapper" style="display: none; margin-top: 1.5rem;">
    <div class="flashcard" style="background: #f0fdf4; border: 3px solid #86efac;">
     <div class="question-number" style="color: #16a34a;">
      ‚úÖ Ï†ïÎãµ
     </div>
     <div class="question-text" style="color: #15803d;" id="answer-text">
      Ï†ïÎãµ
     </div>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      main_title: "üé§ ÏòÅÏñ¥ Ïä§ÌîºÌÇπ Ïó∞Ïäµ",
      subtitle: "Í∞Å ÏßàÎ¨∏ÏùÑ Î≥¥Í≥† ÏòÅÏñ¥Î°ú ÎãµÎ≥ÄÏùÑ Ïó∞ÏäµÌïòÏÑ∏Ïöî",
      card_label: "ÏßàÎ¨∏",
      button_text: "Îã§Ïùå"
    };

    const questions = [
        {
        id: 1,
        randomOptions: ["How are you?", "How have you been?"],
        followUpQuestions: ["Why?"],
        hasImage: false,
        answers: [
            { label: "feeling", text: "I'm joyful today." },
            { label: "Why?", text: "Because I woke up feeling really refreshed today." }
        ]
        },
      {
        id: 2,
        mainQuestion: "What do you usually do in your free time?",
        followUpQuestions: ["Why?"],
        hasImage: false,
        answers: [
            { label: "doing", text: "I enjoy doing Morse code." },
            { label: "Why?", text: "I suddenly became interested in it these days." }
        ]
      },
      {
        id: 3,
        mainQuestion: "What's wrong?",
        hasImage: true,
        imageOptions: [
          { name: "6.png", answer: "My tooth hurts." },
          { name: "3.png", answer: "I have a headache." },
          { name: "4.png", answer: "I have a cold." },
          { name: "5.png", answer: "I have a fever." },
          { name: "1.png", answer: "My foot hurts." },
          { name: "2.png", answer: "My back hurts." }
        ],
        randomImage: true
      },
        {
        id: 4,
        randomOptions: [
            { question: "My tooth hurts.", answer: "That's too bad. make sure you go to the dentist." },
            { question: "I have a headache.", answer: "That's too bad. make sure you take some medicine." },
            { question: "I have a cold.", answer: "That's too bad. make sure you go see a doctor." },
            { question: "I have a fever.", answer: "That's too bad. make sure you get some rest." },
            { question: "My foot hurts.", answer: "Make sure you put some ice on it." }
        ],
        hasImage: false
        },
      {
        id: 5,
        mainQuestion: "How do you feel when you do not have your smartphone?",
        hasImage: false,
        answer: "I don't think it will be a problem. There are a plenty of things I can do without a smartphone."
      },
      {
        id: 6,
        randomOptions: [
            { question: "Let's plan to see a movie.", answer: "Let's meet at 2 at Dream Art Hall." },
            { question: "Let's plan to go to a concert.", answer: "Let's meet at 6 at the bus stop." },
            { question: "Let's plan to see an exhibit.", answer: "Let's meet at 2 at the museum." }
        ],
        followUpQuestions: ["What time and where should we meet?"],
        hasImage: true,
        fixedImage: "7.png"
        },
        {
        id: 7,
        randomOptions: [
            { question: "What are your plans on Monday?", answer: "I'm planning to go to the library with jiho." },
            { question: "What are your plans on Tuesday?", answer: "I'm planning to play soccer with Yumi." },
            { question: "What are your plans on Wednesday?", answer: "I'm planning to go swimming with minsu." },
            { question: "What are your plans on Thursday?", answer: "I'm planning to go to the Picasso exhibition with Sumi." },
            { question: "What are your plans on Friday?", answer: "I'm planning to watch a musical with Jina." },
            { question: "What are your plans on Saturday?", answer: "I'm planning to go see a soccer game with jinsu." },
            { question: "What are your plans on Sunday?", answer: "I'm planning to go hiking with Mia." }
        ],
        hasImage: true,
        fixedImage: "8.png"
        },
      {
        id: 8,
        mainQuestion: "What is the difference between these two paintings?",
        hasImage: true,
        imageOptions: [
          { name: "12.png", answer: "Painting A has..." },
          { name: "13.png", answer: "Painting B has..." }
        ],
        answer: "The picture on the left is simple. It has a simple outline and simple colors. But the picture on the right is more complicated. It has complicated colors and a complicated outline.",
        randomImage: true
      },
      {
        id: 9,
        mainQuestion: "Did you hear about [random word]?",
        answers: [
          { label: "Answer 1", text: "Yes, I did. I heard...." },
          { label: "Answer 2", text: "No, I didn't (but I'm really curious about it/her/him/them) / (Who are they? / What is that? / Where is that?)" }
        ],
        hasImage: false
      },
      {
        id: 10,
        randomOptions: [
            { question: "What planet comes before Mercury?", answer: "There is no planet before Mercury. Mercury is the first planet." },
            { question: "What planet comes after Mercury?", answer: "Venus comes after Mercury." },
            { question: "What planet comes before Venus?", answer: "Mercury comes before Venus." },
            { question: "What planet comes after Venus?", answer: "Earth comes after Venus." },
            { question: "What planet comes before Earth?", answer: "Venus comes before Earth." },
            { question: "What planet comes after Earth?", answer: "Mars comes after Earth." },
            { question: "What planet comes before Mars?", answer: "Earth comes before Mars." },
            { question: "What planet comes after Mars?", answer: "Jupiter comes after Mars." },
            { question: "What planet comes before Jupiter?", answer: "Mars comes before Jupiter." },
            { question: "What planet comes after Jupiter?", answer: "Saturn comes after Jupiter." },
            { question: "What planet comes before Saturn?", answer: "Jupiter comes before Saturn." },
            { question: "What planet comes after Saturn?", answer: "Uranus comes after Saturn." },
            { question: "What planet comes before Uranus?", answer: "Saturn comes before Uranus." },
            { question: "What planet comes after Uranus?", answer: "Neptune comes after Uranus." },
            { question: "What planet comes before Neptune?", answer: "Uranus comes before Neptune." },
            { question: "What planet comes after Neptune?", answer: "There is no planet after Neptune. Neptune is the last planet." }
        ],
        planets: ["Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune"],
        hasImage: false
        }
    ];

    let currentIndex = 0;
    let selectedQuestions = [];
    let showingAnswer = false;

    function initializeQuestions() {
      selectedQuestions = questions.map(q => {
        const newQ = { ...q };
        if (q.answer) {
        newQ.selectedAnswer = q.answer;
        }
        
        if (q.randomOptions) {
        const randomIndex = Math.floor(Math.random() * q.randomOptions.length);
        const selected = q.randomOptions[randomIndex];
        
        if (typeof selected === 'object') {
            newQ.selectedQuestion = selected.question;
            newQ.selectedAnswer = selected.answer;
        } else {
            newQ.selectedQuestion = selected;
        }
        }
        
        if (q.randomImage && q.imageOptions) {
          if (q.id === 8) {
            newQ.selectedImages = q.imageOptions.slice();
          } else {
            const randomIndex = Math.floor(Math.random() * q.imageOptions.length);
            newQ.selectedImageData = q.imageOptions[randomIndex];
          }
        }
        
        return newQ;
      });
    }

    function renderQuestion() {
      const question = selectedQuestions[currentIndex];
      const config = window.elementSdk?.config || defaultConfig;
      const cardLabel = config.card_label || defaultConfig.card_label;
      
      document.getElementById('question-counter').textContent = 
        `${cardLabel} ${currentIndex + 1} / ${questions.length}`;
      
      const mainQ = question.selectedQuestion || question.mainQuestion;
      const hasRandom = question.randomOptions ? '<span class="random-badge">ÎûúÎç§</span>' : '';
      document.getElementById('question-text').innerHTML = mainQ + hasRandom;
      
      const contentDiv = document.getElementById('question-content');
      contentDiv.innerHTML = '';
      
      if (question.followUpQuestions) {
        question.followUpQuestions.forEach(followUp => {
          const followUpDiv = document.createElement('div');
          followUpDiv.className = 'follow-up-question';
          followUpDiv.textContent = followUp;
          contentDiv.appendChild(followUpDiv);
        });
      }
      
      if (question.note) {
        const noteDiv = document.createElement('div');
        noteDiv.className = 'question-note';
        noteDiv.textContent = question.note;
        contentDiv.appendChild(noteDiv);
      }
      
      if (question.hasImage) {
        if (question.fixedImage) {
          const imgPlaceholder = document.createElement('div');
          imgPlaceholder.className = 'image-placeholder';
          
          const img = document.createElement('img');
          img.src = question.fixedImage;
          img.alt = 'Question Image';
          img.style.width = '100%';
          img.style.height = '100%';
          img.style.objectFit = 'contain';
          img.style.borderRadius = '12px';
          img.onerror = function() {
            this.style.display = 'none';
            imgPlaceholder.innerHTML = '<span class="image-placeholder-text">üì∏ Ïù¥ÎØ∏ÏßÄÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§</span>';
          };
          
          imgPlaceholder.appendChild(img);
          contentDiv.appendChild(imgPlaceholder);
        } else if (question.id === 8 && question.selectedImages) {
          const imageContainer = document.createElement('div');
          imageContainer.style.display = 'flex';
          imageContainer.style.gap = '1rem';
          imageContainer.style.justifyContent = 'center';
          imageContainer.style.flexWrap = 'wrap';
          imageContainer.style.width = '100%';
          
          question.selectedImages.forEach((imageData, index) => {
            const imgPlaceholder = document.createElement('div');
            imgPlaceholder.className = 'image-placeholder';
            imgPlaceholder.style.flex = '1';
            imgPlaceholder.style.minWidth = '250px';
            imgPlaceholder.style.maxWidth = '300px';
            
            const img = document.createElement('img');
            img.src = imageData.name;
            img.alt = 'Painting ' + (index + 1);
            img.style.width = '100%';
            img.style.height = '100%';
            img.style.objectFit = 'contain';
            img.style.borderRadius = '12px';
            img.onerror = function() {
              this.style.display = 'none';
              imgPlaceholder.innerHTML = '<span class="image-placeholder-text">üì∏ Ïù¥ÎØ∏ÏßÄÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§</span>';
            };
            
            imgPlaceholder.appendChild(img);
            imageContainer.appendChild(imgPlaceholder);
          });
          contentDiv.appendChild(imageContainer);
        } else if (question.selectedImageData) {
          const imgPlaceholder = document.createElement('div');
          imgPlaceholder.className = 'image-placeholder';
          
          const img = document.createElement('img');
          img.src = question.selectedImageData.name;
          img.alt = 'Question Image';
          img.style.width = '100%';
          img.style.height = '100%';
          img.style.objectFit = 'contain';
          img.style.borderRadius = '12px';
          img.onerror = function() {
            this.style.display = 'none';
            imgPlaceholder.innerHTML = '<span class="image-placeholder-text">üì∏ Ïù¥ÎØ∏ÏßÄÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§</span>';
          };
          
          imgPlaceholder.appendChild(img);
          contentDiv.appendChild(imgPlaceholder);
        }
      }
      
      
      if (question.planets) {
        const planetSection = document.createElement('div');
        planetSection.className = 'planet-list';
        question.planets.forEach(planet => {
          const planetDiv = document.createElement('div');
          planetDiv.className = 'planet-item';
          planetDiv.textContent = planet;
          planetSection.appendChild(planetDiv);
        });
        contentDiv.appendChild(planetSection);
      }
      
      document.getElementById('prev-btn').disabled = currentIndex === 0;
      document.getElementById('next-btn').textContent = 
        currentIndex === questions.length - 1 ? 'ÏôÑÎ£å' : (config.button_text || defaultConfig.button_text) + ' ‚Üí';
    }

    function nextCard() {
      showingAnswer = false;
      document.getElementById('answer-card-wrapper').style.display = 'none';
      document.getElementById('answer-btn').textContent = 'üí° Ï†ïÎãµ Î≥¥Í∏∞';
      
      if (currentIndex < questions.length - 1) {
        currentIndex++;
        renderQuestion();
      } else {
        currentIndex = 0;
        initializeQuestions();
        renderQuestion();
      }
    }

    function previousCard() {
      if (currentIndex > 0) {
        currentIndex--;
        showingAnswer = false;
        document.getElementById('answer-card-wrapper').style.display = 'none';
        document.getElementById('answer-btn').textContent = 'üí° Ï†ïÎãµ Î≥¥Í∏∞';
        renderQuestion();
      }
    }
    
    function toggleAnswer() {
      showingAnswer = !showingAnswer;
      const answerWrapper = document.getElementById('answer-card-wrapper');
      const answerBtn = document.getElementById('answer-btn');
      const answerTextDiv = document.getElementById('answer-text');
      const question = selectedQuestions[currentIndex];
      
      if (showingAnswer) {
        answerWrapper.style.display = 'block';
        answerBtn.textContent = '‚ùå Ï†ïÎãµ Ïà®Í∏∞Í∏∞';
        
      if (question.selectedAnswer) {
            answerTextDiv.textContent = question.selectedAnswer;
        } else if (question.id === 3 && question.selectedImageData) {


          answerTextDiv.textContent = question.selectedImageData.answer;
        } else if (question.id === 8 && question.answer) {
          answerTextDiv.textContent = question.answer;
        } else if ((question.id === 1 || question.id === 2 || question.id === 9) && question.answers) {
          let answerHTML = '';
          question.answers.forEach(answer => {
            answerHTML += `<div style="background: #dcfce7; padding: 1rem 1.5rem; margin: 0.8rem 0; border-radius: 10px; border-left: 4px solid #16a34a; text-align: left;">
              <strong style="color: #16a34a; margin-right: 0.5rem;">${answer.label}:</strong>
              <span style="color: #15803d; font-size: 1.1rem;">${answer.text}</span>
            </div>`;
          });
          answerTextDiv.innerHTML = answerHTML;
        } else {
          answerTextDiv.textContent = 'Ï†ïÎãµ';
        }
      } else {
        answerWrapper.style.display = 'none';
        answerBtn.textContent = 'üí° Ï†ïÎãµ Î≥¥Í∏∞';
      }
    }

    async function onConfigChange(config) {
      document.getElementById('main-title').textContent = config.main_title || defaultConfig.main_title;
      document.getElementById('subtitle').textContent = config.subtitle || defaultConfig.subtitle;
      renderQuestion();
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["main_title", config.main_title || defaultConfig.main_title],
        ["subtitle", config.subtitle || defaultConfig.subtitle],
        ["card_label", config.card_label || defaultConfig.card_label],
        ["button_text", config.button_text || defaultConfig.button_text]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    initializeQuestions();
    renderQuestion();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a73347955f58d31',t:'MTc2NDU5ODYxNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>