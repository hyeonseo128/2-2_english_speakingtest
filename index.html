<!doctype html>
<html lang="ko">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>English Speaking Practice</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    
    html {
      height: 100%;
    }
    
    .app-container {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .header {
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .header h1 {
      font-size: 2.5rem;
      color: #ffffff;
      margin: 0 0 0.5rem 0;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }
    
    .header p {
      font-size: 1.1rem;
      color: #f0f0f0;
      margin: 0;
    }
    
    .flashcard-wrapper {
      perspective: 1000px;
      width: 100%;
      max-width: 700px;
    }
    
    .flashcard {
      background: #ffffff;
      border-radius: 20px;
      padding: 3rem;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
      min-height: 300px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      transition: transform 0.3s ease;
    }
    
    .flashcard:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 50px rgba(0,0,0,0.4);
    }
    
    .question-number {
      font-size: 1rem;
      color: #667eea;
      font-weight: 600;
      margin-bottom: 1.5rem;
    }
    
    .question-text {
      font-size: 1.8rem;
      color: #2d3748;
      line-height: 1.6;
      margin-bottom: 1.5rem;
      font-weight: 500;
    }
    
    .follow-up-question {
      font-size: 1.5rem;
      color: #4a5568;
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 2px solid #e2e8f0;
      font-weight: 500;
    }
    
    .question-note {
      font-size: 1.2rem;
      color: #718096;
      margin-top: 1rem;
      font-style: italic;
    }
    
    .image-placeholder {
      width: 100%;
      max-width: 400px;
      height: 250px;
      background: linear-gradient(135deg, #e0e7ff 0%, #f3e8ff 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 1.5rem 0;
      border: 3px dashed #a5b4fc;
    }
    
    .image-placeholder-text {
      font-size: 1.1rem;
      color: #6b7280;
      font-weight: 500;
    }
    
    .answer-section {
      width: 100%;
      margin-top: 2rem;
      padding-top: 2rem;
      border-top: 2px solid #e2e8f0;
    }
    
    .answer-option {
      background: #f7fafc;
      padding: 1rem 1.5rem;
      margin: 0.8rem 0;
      border-radius: 10px;
      border-left: 4px solid #667eea;
      text-align: left;
    }
    
    .answer-option strong {
      color: #667eea;
      margin-right: 0.5rem;
    }
    
    .answer-option span {
      color: #4a5568;
      font-size: 1.1rem;
    }
    
    .controls {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
    }
    
    .btn {
      padding: 1rem 2.5rem;
      font-size: 1.1rem;
      font-weight: 600;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    
    .btn-primary {
      background: #667eea;
      color: white;
    }
    
    .btn-primary:hover {
      background: #5568d3;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102,126,234,0.4);
    }
    
    .btn-secondary {
      background: #ffffff;
      color: #667eea;
      border: 2px solid #667eea;
    }
    
    .btn-secondary:hover {
      background: #f7fafc;
      transform: translateY(-2px);
    }
    
    .planet-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
      justify-content: center;
      margin-top: 1.5rem;
    }
    
    .planet-item {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 0.6rem 1.2rem;
      border-radius: 20px;
      font-size: 1rem;
      font-weight: 500;
    }
    
    .random-badge {
      display: inline-block;
      background: #f59e0b;
      color: white;
      padding: 0.3rem 0.8rem;
      border-radius: 15px;
      font-size: 0.9rem;
      margin-left: 0.5rem;
      font-weight: 600;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="app-container">
   <div class="header">
    <h1 id="main-title">üé§ ÏòÅÏñ¥ Ïä§ÌîºÌÇπ Ïó∞Ïäµ</h1>
    <p id="subtitle">Í∞Å ÏßàÎ¨∏ÏùÑ Î≥¥Í≥† ÏòÅÏñ¥Î°ú ÎãµÎ≥ÄÏùÑ Ïó∞ÏäµÌïòÏÑ∏Ïöî</p>
   </div>
   <div class="flashcard-wrapper">
    <div class="flashcard" id="flashcard">
     <div class="question-number" id="question-counter">
      ÏßàÎ¨∏ 1 / 10
     </div>
     <div class="question-text" id="question-text"></div>
     <div id="question-content"></div>
    </div>
   </div>
   <div class="controls"><button class="btn btn-secondary" id="prev-btn" onclick="previousCard()">‚Üê Ïù¥Ï†Ñ</button> <button class="btn btn-primary" id="answer-btn" onclick="toggleAnswer()">üí° Ï†ïÎãµ Î≥¥Í∏∞</button> <button class="btn btn-primary" id="next-btn" onclick="nextCard()">Îã§Ïùå ‚Üí</button>
   </div>
   <div class="flashcard-wrapper" id="answer-card-wrapper" style="display: none; margin-top: 1.5rem;">
    <div class="flashcard" style="background: #f0fdf4; border: 3px solid #86efac;">
     <div class="question-number" style="color: #16a34a;">
      ‚úÖ Ï†ïÎãµ
     </div>
     <div class="question-text" style="color: #15803d;" id="answer-text">
      Ï†ïÎãµ
     </div>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      main_title: "üé§ ÏòÅÏñ¥ Ïä§ÌîºÌÇπ Ïó∞Ïäµ",
      subtitle: "Í∞Å ÏßàÎ¨∏ÏùÑ Î≥¥Í≥† ÏòÅÏñ¥Î°ú ÎãµÎ≥ÄÏùÑ Ïó∞ÏäµÌïòÏÑ∏Ïöî",
      card_label: "ÏßàÎ¨∏",
      button_text: "Îã§Ïùå"
    };

    const questions = [
      {
        id: 1,
        randomOptions: ["How are you?", "How have you been?"],
        followUpQuestions: ["Why?"],
        hasImage: false
      },
      {
        id: 2,
        mainQuestion: "What do you usually do in your free time?",
        followUpQuestions: ["Why?"],
        hasImage: false
      },
      {
        id: 3,
        mainQuestion: "What's wrong?",
        hasImage: true,
        imageCount: 6,
        randomImage: true
      },
      {
        id: 4,
        randomOptions: [
          "My tooth hurts.",
          "I have a headache.",
          "I have a cold.",
          "I have a fever.",
          "My foot hurts."
        ],
        hasImage: false
      },
      {
        id: 5,
        mainQuestion: "How do you feel when you do not have your smartphone?",
        hasImage: false
      },
      {
        id: 6,
        randomOptions: [
          "Let's plan to see a movie.",
          "Let's plan to go to a concert.",
          "Let's plan to see an exhibit."
        ],
        followUpQuestions: ["What time and where should we meet?"],
        hasImage: false
      },
      {
        id: 7,
        randomOptions: [
          "What are your plans on Monday?",
          "What are your plans on Tuesday?",
          "What are your plans on Wednesday?",
          "What are your plans on Thursday?",
          "What are your plans on Friday?",
          "What are your plans on Saturday?",
          "What are your plans on Sunday?"
        ],
        hasImage: false
      },
      {
        id: 8,
        mainQuestion: "What is the difference between these two paintings?",
        hasImage: true,
        imageCount: 2,
        randomImage: true
      },
      {
        id: 9,
        mainQuestion: "Did you hear about [random word]?",
        answers: [
          { label: "Answer 1", text: "Yes, I did. I heard...." },
          { label: "Answer 2", text: "No, I didn't (but I'm really curious about it/her/him/them) / (Who are they? / What is that? / Where is that?)" }
        ],
        hasImage: false
      },
      {
        id: 10,
        randomOptions: [
          "What planet comes before Mercury?",
          "What planet comes after Mercury?",
          "What planet comes before Venus?",
          "What planet comes after Venus?",
          "What planet comes before Earth?",
          "What planet comes after Earth?",
          "What planet comes before Mars?",
          "What planet comes after Mars?",
          "What planet comes before Jupiter?",
          "What planet comes after Jupiter?",
          "What planet comes before Saturn?",
          "What planet comes after Saturn?",
          "What planet comes before Uranus?",
          "What planet comes after Uranus?",
          "What planet comes before Neptune?",
          "What planet comes after Neptune?"
        ],
        planets: ["Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune"],
        hasImage: false
      }
    ];

    let currentIndex = 0;
    let selectedQuestions = [];
    let showingAnswer = false;

    function initializeQuestions() {
      selectedQuestions = questions.map(q => {
        const newQ = { ...q };
        
        if (q.randomOptions) {
          const randomIndex = Math.floor(Math.random() * q.randomOptions.length);
          newQ.selectedQuestion = q.randomOptions[randomIndex];
        }
        
        if (q.randomImage && q.imageCount) {
          newQ.selectedImageIndex = Math.floor(Math.random() * q.imageCount) + 1;
        }
        
        return newQ;
      });
    }

    function renderQuestion() {
      const question = selectedQuestions[currentIndex];
      const config = window.elementSdk?.config || defaultConfig;
      const cardLabel = config.card_label || defaultConfig.card_label;
      
      document.getElementById('question-counter').textContent = 
        `${cardLabel} ${currentIndex + 1} / ${questions.length}`;
      
      const mainQ = question.selectedQuestion || question.mainQuestion;
      const hasRandom = question.randomOptions ? '<span class="random-badge">ÎûúÎç§</span>' : '';
      document.getElementById('question-text').innerHTML = mainQ + hasRandom;
      
      const contentDiv = document.getElementById('question-content');
      contentDiv.innerHTML = '';
      
      if (question.followUpQuestions) {
        question.followUpQuestions.forEach(followUp => {
          const followUpDiv = document.createElement('div');
          followUpDiv.className = 'follow-up-question';
          followUpDiv.textContent = followUp;
          contentDiv.appendChild(followUpDiv);
        });
      }
      
      if (question.note) {
        const noteDiv = document.createElement('div');
        noteDiv.className = 'question-note';
        noteDiv.textContent = question.note;
        contentDiv.appendChild(noteDiv);
      }
      
      if (question.hasImage) {
        if (question.id === 8) {
          const imageContainer = document.createElement('div');
          imageContainer.style.display = 'flex';
          imageContainer.style.gap = '1rem';
          imageContainer.style.justifyContent = 'center';
          imageContainer.style.flexWrap = 'wrap';
          imageContainer.style.width = '100%';
          
          for (let i = 1; i <= 2; i++) {
            const imgPlaceholder = document.createElement('div');
            imgPlaceholder.className = 'image-placeholder';
            imgPlaceholder.style.flex = '1';
            imgPlaceholder.style.minWidth = '250px';
            imgPlaceholder.style.maxWidth = '300px';
            imgPlaceholder.innerHTML = `<span class="image-placeholder-text">üì∏ Í∑∏Î¶º ${i} (Ï∂îÌõÑ Ï∂îÍ∞Ä ÏòàÏ†ï)</span>`;
            imageContainer.appendChild(imgPlaceholder);
          }
          contentDiv.appendChild(imageContainer);
        } else {
          const imgPlaceholder = document.createElement('div');
          imgPlaceholder.className = 'image-placeholder';
          const imageNum = question.selectedImageIndex || 1;
          imgPlaceholder.innerHTML = `<span class="image-placeholder-text">üì∏ ÏÇ¨ÏßÑ ${imageNum} (Ï∂îÌõÑ Ï∂îÍ∞Ä ÏòàÏ†ï)</span>`;
          contentDiv.appendChild(imgPlaceholder);
        }
      }
      
      if (question.answers) {
        const answerSection = document.createElement('div');
        answerSection.className = 'answer-section';
        question.answers.forEach(answer => {
          const answerDiv = document.createElement('div');
          answerDiv.className = 'answer-option';
          answerDiv.innerHTML = `<strong>${answer.label}:</strong><span>${answer.text}</span>`;
          answerSection.appendChild(answerDiv);
        });
        contentDiv.appendChild(answerSection);
      }
      
      if (question.planets) {
        const planetSection = document.createElement('div');
        planetSection.className = 'planet-list';
        question.planets.forEach(planet => {
          const planetDiv = document.createElement('div');
          planetDiv.className = 'planet-item';
          planetDiv.textContent = planet;
          planetSection.appendChild(planetDiv);
        });
        contentDiv.appendChild(planetSection);
      }
      
      document.getElementById('prev-btn').disabled = currentIndex === 0;
      document.getElementById('next-btn').textContent = 
        currentIndex === questions.length - 1 ? 'ÏôÑÎ£å' : (config.button_text || defaultConfig.button_text) + ' ‚Üí';
    }

    function nextCard() {
      showingAnswer = false;
      document.getElementById('answer-card-wrapper').style.display = 'none';
      document.getElementById('answer-btn').textContent = 'üí° Ï†ïÎãµ Î≥¥Í∏∞';
      
      if (currentIndex < questions.length - 1) {
        currentIndex++;
        renderQuestion();
      } else {
        currentIndex = 0;
        initializeQuestions();
        renderQuestion();
      }
    }

    function previousCard() {
      if (currentIndex > 0) {
        currentIndex--;
        showingAnswer = false;
        document.getElementById('answer-card-wrapper').style.display = 'none';
        document.getElementById('answer-btn').textContent = 'üí° Ï†ïÎãµ Î≥¥Í∏∞';
        renderQuestion();
      }
    }
    
    function toggleAnswer() {
      showingAnswer = !showingAnswer;
      const answerWrapper = document.getElementById('answer-card-wrapper');
      const answerBtn = document.getElementById('answer-btn');
      const answerTextDiv = document.getElementById('answer-text');
      const question = selectedQuestions[currentIndex];
      
      if (showingAnswer) {
        answerWrapper.style.display = 'block';
        answerBtn.textContent = '‚ùå Ï†ïÎãµ Ïà®Í∏∞Í∏∞';
        
        if (question.id === 9 && question.answers) {
          let answerHTML = '';
          question.answers.forEach(answer => {
            answerHTML += `<div style="background: #dcfce7; padding: 1rem 1.5rem; margin: 0.8rem 0; border-radius: 10px; border-left: 4px solid #16a34a; text-align: left;">
              <strong style="color: #16a34a; margin-right: 0.5rem;">${answer.label}:</strong>
              <span style="color: #15803d; font-size: 1.1rem;">${answer.text}</span>
            </div>`;
          });
          answerTextDiv.innerHTML = answerHTML;
        } else {
          answerTextDiv.textContent = 'Ï†ïÎãµ';
        }
      } else {
        answerWrapper.style.display = 'none';
        answerBtn.textContent = 'üí° Ï†ïÎãµ Î≥¥Í∏∞';
      }
    }

    async function onConfigChange(config) {
      document.getElementById('main-title').textContent = config.main_title || defaultConfig.main_title;
      document.getElementById('subtitle').textContent = config.subtitle || defaultConfig.subtitle;
      renderQuestion();
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([
        ["main_title", config.main_title || defaultConfig.main_title],
        ["subtitle", config.subtitle || defaultConfig.subtitle],
        ["card_label", config.card_label || defaultConfig.card_label],
        ["button_text", config.button_text || defaultConfig.button_text]
      ]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }

    initializeQuestions();
    renderQuestion();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a72b14392fae9fc',t:'MTc2NDU5MzIzOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>